<div class="row">
    <h2>已有账户登录</h2>
</div>
<div class="row">
    <p>新用户？<a href ui-sref="register">请点击这里注册</a></p>
</div>
<br/>
<br/>

<form role="form" name="login_form" ng-controller="LoginController" novalidate>
    <div class="form-group">
        <div class="row">
            <label class="control-label" for="email">邮箱</label>
        </div>
        <div class="row">
            <input class="form-control" id="email" name="email" placeholder="请输入您已注册的邮箱" ng-model="user.email"
                   type="email" autocomplete="off" ng-focus="emailNotExist=false" required>
        </div>
        <br/>

        <div class="row" ng-show="login_form.email.$dirty && login_form.email.$invalid">
            <alert type="danger" ng-show="login_form.email.$error.required">邮箱不能为空</alert>
            <alert type="danger" ng-show="login_form.email.$error.email">邮箱格式不正确</alert>
        </div>
        <div class="row" ng-show="emailNotExist">
            <alert type="danger">这个邮箱还没有被注册过</alert>
        </div>
    </div>
    <div class="form-group">
        <div class="row">
            <label class="control-label" for="password">密码</label>
        </div>
        <div class="row">
            <input class="form-control" id="password" name="password" placeholder="请输入您的密码" ng-model="user.password"
                   type="password" autocomplete="off" ng-focus="passwdNotRight=false" required minlength="3"
                   maxlength="15">
        </div>
        <br/>

        <div class="row" ng-show="login_form.password.$dirty && login_form.password.$invalid">
            <alert type="danger" ng-show="login_form.password.$error.required">密码不可以为空</alert>
            <alert type="danger" ng-show="login_form.password.$error.minlength || login_form.password.$error.maxlength">
                密码长度限制为3-15位
            </alert>
        </div>
        <div class="row" ng-show="passwdNotRight">
            <alert type="danger">密码不正确</alert>
        </div>
    </div>
    <div class="form-group">

        <div class="row">
            <label>验证码</label>
        </div>
        <div class="row">
            <!--<div re-captcha ng-model="user.captcha"></div>-->
            <img ng-src="data:image/JPEG;base64,{{image}}" class="img-responsive" alt="正在载入，请稍后">
        </div>
        <br/>
        <div class="row">
            <input class="form-control" id="captcha" name="captacha" placeholder="请输入图片中的数字" ng-model="user.captcha"
                   type="text" autocomplete="off" ng-focus="captchaNotRight=false" required>
        </div>
        <br/>
        <div class="row" ng-show="captchaNotRight">
            <alert type="danger">验证码不正确</alert>
        </div>
    </div>
    <br/>

    <div class="form-group">
        <div class="row">
            <button class="btn btn-primary pull-right btn-lg" ng-click="login(user)" ng-disabled="login_form.$invalid">
                登录
            </button>
        </div>
    </div>
</form>
